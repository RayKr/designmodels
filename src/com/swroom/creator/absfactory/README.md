# 抽象工厂模式

## 示例

![抽象工厂模式](http://swroom.qiniudn.com/0_1331859200u1VV.gif)

如上图所示，汽车有两厢车、三厢车，这属于不同的“等级结构”，每个等级的车又有2.0排量和2.4排量之分，这属于不同的“产品族”。

工厂方法模式和抽象工厂模式的区别：
1. 如果工厂的全部产品都属于同一个“等级结构”，那么就是工厂方法模式。一抽象产品类派生出多个具体产品类；一抽象工厂类派生出多个具体工厂类；每个具体工厂类只能创建一个具体产品类的实例。

2. 如果工厂的产品来自多个“等级结构”，则为抽象工厂模式。多个抽象产品类，派生出多个具体产品类；一个抽象工厂类，派生出多个具体工厂类；每个具体工厂类可创建多个具体产品类的实例。

## 代码

1. 首先分析这个需求，现在要生产两厢车和三厢车，抽象出两个不同的对象，即一个工厂要生产多个产品，此时就要使用到抽象工厂模式。

2. 创建两厢车（IHatchbackCar）和三厢车（IThreeBoxCar）接口并实现。

3. 创建一个工厂接口（IFactory），内含两种车型的创建方法。

4. 调用类依赖工厂创建出多个具体产品的对象。


